<html>
<head>
    <title>hAPPi - Human - Application Interpreter</title>
    <script src="lib/js/angular.min.js"></script>
    <script src="js/angular_index.js"></script>
</head>
<body data-ng-app="main" data-ng-controller="ctrl_main">
<div class="title">
    hAPPi UI Prototype
</div>

<div class="div_workArea">
    <div class="div_menuArea">
        <div data-ng-show="showMenuArea">
            <div class="div_menuButton" data-ng-click="menuAddObjects()">
                Add Objects
            </div>
            <div class="div_menuButton" data-ng-click="menuAddBehaviors()">
                Add Behaviors
            </div>
            <div class="div_menuButton" data-ng-click="">
                Design
            </div>
            <div class="div_menuButton" data-ng-click="">
                Release
            </div>
        </div>
    </div>
    <div class="div_centralArea">
        <div class="div_creationArea" data-ng-show="showApplicationList">
            <span data-ng-repeat="application in applications track by $index">
                <div class="div_objectBlob" data-ng-click="showApplicationDetails(application)">
                    <span >{{application.name}}</span>
                    <div class='div_deleteButton' data-ng-click="deleteApplication(application)">X</div>
                    <div class='div_editButton' data-ng-click="editApplicationDetails(application)">?</div>
                </div>
            </span>
            <div class="div_objectBlob" data-ng-click="addNewApplication()">
                <span>+</span>
            </div>
        </div>
        <div class="div_creationArea" data-ng-show="showAddObjects">
            <span data-ng-repeat="object in objects track by $index">
                <div class="div_objectBlob" data-ng-click="showObjectDetails(object)">
                    <span >{{object.name}}</span>
                    <div class='div_deleteButton' data-ng-click="deleteObject(object)">X</div>
                    <div class='div_editButton' data-ng-click="editObjectDetails(object)">?</div>
                </div>
            </span>
            <div class="div_objectBlob" data-ng-click="addFirstObject()">
                <span>+</span>
            </div>
        </div>
        <div class="div_CreationArea" ng-show="showAddBehaviors">
            <span ng-repeat="behavior in behaviors track by $index">
                <div class="div_objectBlob" data-ng-click="showBehaviorDetails(behavior)">
                    <span >{{behavior.name}}</span>
                    <div class='div_deleteButton' data-ng-click="deleteBehavior(behavior)">X</div>
                    <div class='div_editButton' data-ng-click="editBehaviorDetails(behavior)">?</div>
                </div>
            </span>
            <div class="div_objectBlob" data-ng-click="addFirstBehavior()">
                <span>+</span>
            </div>
        </div>
    </div>
    <div class="div_sideArea">
        <div class="div_objectDetailsArea" data-ng-show="showObjectDetailsFlag">
            <div class="objectDetailsSummary">
                {{currentObject.name}}<br><hr>
                Attributes:<br>
                <div ng-repeat="attr in currentObject.attributes track by $index">
                    {{attr}}
                </div>
                <hr>
                Actions:<br>
                <div ng-repeat="act in currentObject.actions track by $index">
                    {{act.name + ": " + act.operand1 + " " + act.operator + " " + act.operand2}}
                </div>
                <hr>
            </div>
        </div>
        <div data-ng-show="showObjectEditFlag">
            <form class="form_addNewObject" data-ng-submit="addObject()" data-ng-init="name='';all_attrs=[]">
                Name: <input type="text" data-ng-model="name">
                <hr>
                Attributes:<br>
                <div data-ng-repeat="n in [].constructor(numOfAttributes) track by $index">
                    {{$index + 1}} <input type="text" data-ng-model="all_attrs[$index]">
                </div>
                <div class="div_addAttributeButton" data-ng-click="addAttribute()">+</div>
                <hr>
                Actions:<br>
                <div ng-repeat="n in [].constructor(numOfActions) track by $index">
                    <div class="div_objectActionBlob">
                        {{all_acts[$index].name}}
                    </div>
                </div>
                <div class="div_addAttributeButton" data-ng-click="addAction()">+</div>
                <hr>
                <button type="submit">Create Object</button>
            </form>
        </div>

        <div class="div_behaviorDetailsArea" data-ng-show="showBehaviorDetailsFlag">
            <div class="behaviorDetailsSummary">
                {{currentBehavior.name}}<br><hr>
            </div>
        </div>
        <div data-ng-show="showBehaviorEditFlag">
            <form class="form_addNewObject" data-ng-submit="addBehavior()" data-ng-init="name=''">
                Name: <input type="text" data-ng-model="name">
                <hr>
                <button type="submit">Create Behavior</button>
            </form>
        </div>
        <div class="div_applicationDetailsArea">
            <div data-ng-show="showApplicationDetailsFlag">
                <div class="applicationDetailsSummary">
                    {{currentApplication.name}}<br><hr>
                    Platforms:<br>
                    <div ng-repeat="platform in currentApplication.platforms track by $index">
                        {{platform}}
                    </div>
                    <hr>
                </div>
            </div>

            <div data-ng-show="showApplicationEditFlag">
                <form class="form_addNewApplication" data-ng-submit="addApplication()" data-ng-init="name='' platforms=[]">
                    Name: <input type="text" data-ng-model="name">
                    {{name}}
                    <hr>
                    <input type="checkbox" name="platform" value="android" data-ng-model="android"> Android<br>
                    <input type="checkbox" name="platform" value="ios" data-ng-model="ios"> IOS<br>
                    <input type="checkbox" name="platform" value="windowsPhone" data-ng-model="windowsPhone"> Windows Phone<br>
                    <button type="submit">Create Application</button>
                </form>
            </div>
        </div>
        <div class="div_addActionArea" ng-show="showActionsEditFlag">
            <form class="form_addAction" data-ng-submit="addNewAction()"
                  ng-init="actionName='';all_acts[$index]={name:'', operator1:'', operand:'', operator2:''}">
                Name: <input type="text" data-ng-model="all_acts[numOfActions].name"><hr>
                <select ng-model="all_acts[numOfActions].operand1" ng-options="item as o for o in all_attrs.filter(isValidAttribute)"></select>
                <select ng-model="all_acts[numOfActions].operator" ng-options="item as o for o in operators"></select>
                <input type="text" ng-model="all_acts[numOfActions].operand2">
                <button type="submit">Add Action</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>